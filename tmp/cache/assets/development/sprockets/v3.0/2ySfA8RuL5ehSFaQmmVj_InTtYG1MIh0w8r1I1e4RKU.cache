I" (function() {
  var rev;

  rev = JSON.parse(gon.restaurants);

  window.onload = function() {
    var i, j, len, r, results;
    for (j = 0, len = rev.length; j < len; j++) {
      r = rev[j];
      rate(r);
    }
    i = 0;
    results = [];
    while (i < names.length) {
      markers[i].addListener('click', function() {
        infoW.setContent(names[i]);
        return infoW.open(map, this);
      });
      results.push(i++);
    }
    return results;
  };

  google.maps.event.addDomListener(window, 'load', function() {
    var infoW, j, len, marker, r, results, text;
    initmap();
    infoW = new google.maps.InfoWindow({
      content: "Test"
    });
    window.markers = [];
    window.names = [];
    results = [];
    for (j = 0, len = rev.length; j < len; j++) {
      r = rev[j];
      text = r.name;
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(r.x, r.y),
        map: map
      });
      names.push(r.name);
      results.push(markers.push(marker));
    }
    return results;
  });

}).call(this);
:ET