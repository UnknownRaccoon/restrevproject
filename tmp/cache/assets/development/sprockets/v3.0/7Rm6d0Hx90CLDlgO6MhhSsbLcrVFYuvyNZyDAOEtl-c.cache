I"ª(function() {
  window.rate = function(r, ro) {
    var results, string, z;
    if (ro == null) {
      ro = true;
    }
    string = "#";
    if (ro) {
      string += r.id;
    }
    $(string + 'mark1').raty({
      score: r.mark1,
      path: "/assets",
      readOnly: ro
    });
    $(string + 'mark2').raty({
      score: r.mark2,
      path: "/assets",
      readOnly: ro
    });
    $(string + 'mark3').raty({
      score: r.mark3,
      path: "/assets",
      readOnly: ro
    });
    $(string + 'avgrate').raty({
      score: r.mark1 * 0.4 + r.mark2 * 0.3 + r.mark3 * 0.3,
      path: "/assets",
      readOnly: true
    });
    if (!ro) {
      z = 1;
      results = [];
      while (z < 4) {
        $('#mark' + z + ' > img').click(function() {
          return $('input[name="review[mark' + z + ']"]').val($(this).attr("alt"));
        });
        results.push(z++);
      }
      return results;
    }
  };

}).call(this);
:ET