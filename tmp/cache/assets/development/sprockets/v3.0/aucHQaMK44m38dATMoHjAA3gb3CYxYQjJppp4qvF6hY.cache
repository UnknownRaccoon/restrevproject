I"](function() {
  var m, r, rev;

  rev = JSON.parse(gon.restaurants);

  window.onload = function() {
    var i, len, r, results;
    results = [];
    for (i = 0, len = rev.length; i < len; i++) {
      r = rev[i];
      results.push(rate(r));
    }
    return results;
  };

  google.maps.event.addDomListener(window, 'load', function() {
    initmap();
    return window.markers = [];
  }, (function() {
    var i, len, results;
    results = [];
    for (i = 0, len = rev.length; i < len; i++) {
      r = rev[i];
      markers.push(new google.maps.Marker({
        position: new google.maps.LatLng(r.x, r.y),
        map: map
      }));
      results.push((function() {
        var j, len1, results1;
        results1 = [];
        for (j = 0, len1 = markers.length; j < len1; j++) {
          m = markers[j];
          results1.push(m.addListener('click', function() {
            return new google.maps.InfoWindow({
              content: "<h2>" + r.address + "</h2>"
            }).open(map, m);
          }));
        }
        return results1;
      })());
    }
    return results;
  })());

}).call(this);
:ET