I"\(function() {
  window.onload = function() {
    return rate(gon.restaurant, false);
  };

  google.maps.event.addDomListener(window, 'load', function() {
    var marker;
    initmap();
    marker = new google.maps.Marker({
      map: map,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
    google.maps.event.addListener(map, 'click', function(event) {
      marker.setPosition(event.latLng);
      $("#lat").val(event.latLng.lat());
      return $("#lng").val(event.latLng.lng());
    });
    google.maps.event.addListener(marker, 'drag', function(event) {
      $("#lat").val(event.latLng.lat());
      return $("#lng").val(event.latLng.lng());
    });
    return google.maps.event.addListener(marker, 'dragend', function(event) {
      $("#lat").val(event.latLng.lat());
      return $("#lng").val(event.latLng.lng());
    });
  });

}).call(this);
:ET